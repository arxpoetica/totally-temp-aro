<beans xmlns:context="http://www.springframework.org/schema/context"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:task="http://www.springframework.org/schema/task" xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:jpa="http://www.springframework.org/schema/data/jpa" xmlns="http://www.springframework.org/schema/beans"
    xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/mvc
       http://www.springframework.org/schema/mvc/spring-mvc.xsd
       http://www.springframework.org/schema/task
       http://www.springframework.org/schema/task/spring-task.xsd
       http://www.springframework.org/schema/tx
       http://www.springframework.org/schema/tx/spring-tx.xsd
       http://www.springframework.org/schema/data/jpa
       http://www.springframework.org/schema/data/jpa/spring-jpa.xsd
       http://www.springframework.org/schema/util
       http://www.springframework.org/schema/util/spring-util.xsd">

    
    <bean abstract="true" id="ignite.cfg" class="org.apache.ignite.configuration.IgniteConfiguration">

		<!-- Nodes which share gridName will cluster, so long as they can discover each other -->
        <property name="gridName" value="aroIgniteGrid"/>

        <!-- Set to true to enable distributed class loading for examples, default is false. -->
        <property name="peerClassLoadingEnabled" value="true"/>

        <!-- Explicitly configure TCP discovery SPI to provide list of initial nodes. -->
        <property name="discoverySpi">
            <bean class="org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi">
                <property name="ipFinder">
                    <bean class="org.apache.ignite.spi.discovery.tcp.ipfinder.multicast.TcpDiscoveryMulticastIpFinder">
						<!-- For security in production environment, consider populate 'addresses' property with list of actual host IP address. -->
                    </bean>
                </property>
            </bean>
        </property>
        
        <property name="cacheConfiguration">
	        <bean class="org.apache.ignite.configuration.CacheConfiguration">
	            <!-- Set cache mode. -->
	            <property name="cacheMode" value="PARTITIONED"/>
	            <!-- Set number of backups to 0  WARNING: REEVALUATE FOR PRODUCTION!-->
	            <property name="backups" value="0"/>
	            <!-- Set initial cache capacity to ~ 10M. -->
	            <property name="startSize" value="#{10 * 1024 * 1024}"/> 
	            <!-- Enable off-heap storage with unlimited size. -->
	            <property name="offHeapMaxMemory" value="0"/> 
	            <!-- Disable swap. -->
	            <property name="swapEnabled" value="false"/> 
	            <!-- Eviction for constrained memory -->
			    <property name="evictionPolicy">
			        <!-- LRU eviction policy. -->
			        <bean class="org.apache.ignite.cache.eviction.lru.LruEvictionPolicy">
			            <!-- Set the maximum cache size to 1 million (default is 100,000). -->
			            <property name="maxSize" value="1000000"/>
			        </bean>
			    </property>
	        </bean>
    	</property>
        
    </bean>

</beans>