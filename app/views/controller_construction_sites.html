<div>
  <!-- Locations layer modal -->
  <div id="locations_controller" ng-show="!isLoadingConfiguration">

    <form>
      <!-- Businesses -->
      <div class="customer-type shaded">
        <label>Locations</label>
      </div>
      <div ng-repeat="locationType in planState.locationTypes" style="clear:both" class="customer-type">
        <label class="pull-right">
          <span class="fa fa-repeat map-layer-spinner map-layer-spinner-locations" ng-show="business_categories_selected[locationType.key]"></span>
          <input type="checkbox"
                 ng-model="locationType.checked"
                 ng-change="changeLocationsLayer()">
        </label>
        <div class="pull-left">
          <img ng-src="{{locationType.icon}}" style="width:16px;margin-right:10px">
        </div>
        <label>{{locationType.label}}</label>
      </div>

      <!-- Data sources -->
      <!-- Global businesses -->
      <div class="customer-type shaded">
        <label>Location data sources</label>
      </div>
      <div class="customer-type">
        <label class="pull-right">
          <input type="checkbox"
                 ng-model="planState.locationDataSources.useGlobalBusiness"
                 ng-change="changeLocationsLayer()">
        </label>
        <label>Global Businesses</label>
      </div>
      <!-- Global residential -->
      <div class="customer-type">
        <label class="pull-right">
          <input type="checkbox"
                 ng-model="planState.locationDataSources.useGlobalHousehold"
                 ng-change="changeLocationsLayer()">
        </label>
        <label>Global Households</label>
      </div>
      <!-- Global towers -->
      <div class="customer-type">
        <label class="pull-right">
          <input type="checkbox"
                 ng-model="planState.locationDataSources.useGlobalCellTower"
                 ng-change="changeLocationsLayer()">
        </label>
        <label>Global Towers</label>
      </div>
    </form>

    <div class="alert alert-info text-center" role="alert" ng-show="heatmapVisible">
      To see individual locations, zoom in or turn off the heatmap button below the zoom buttons
    </div>

    <a ng-if="env_is_test" href="javascript:void(0)" ng-click="locations_layer.select_random_features()" ng-attr-data-loaded="{{locations_layer.data_loaded}}">Test</a>
  </div>

  <!-- Spinner that will be shown while the configuration is being loaded from the server -->
  <div style="margin:30px;text-align:center;" ng-if="isLoadingConfiguration">
    <p>Loading location categories</p>
    <div class="spinner">
      <div class="rect1"></div>
      <div class="rect2"></div>
      <div class="rect3"></div>
      <div class="rect4"></div>
      <div class="rect5"></div>
    </div>
  </div>
</div>
