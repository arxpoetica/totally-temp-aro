<!DOCTYPE html>
<html ng-app="aro">
  <head>
    <title>ARO</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="stylesheets/aro.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>

      var app = angular.module('aro', []);
      var map;
      
      function initialize() {
        map = new google.maps.Map(document.getElementById('map-canvas'), {
          zoom: 12,
          center: {lat: 47.6097, lng: -122.3331}, // Centroid of Seattle, WA
          mapTypeId: google.maps.MapTypeId.HYBRID,
          panControl: false,
          zoomControlOptions: {
            style: google.maps.ZoomControlStyle.SMALL,
            position: google.maps.ControlPosition.TOP_RIGHT
          },
          mapTypeControlOptions: {
            position: google.maps.ControlPosition.TOP_RIGHT
          }
        });
      }

      google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
      <div id="left-col">
        <div ng-controller="map_layers_controller">
          <div class="layer-toggle">
            <a href="#" ng-click="county_subdivisions_layer.toggle_visibility()">CS</a>
          </div>
          <div class="layer-toggle">
            <a href="#" ng-click="locations_layer.toggle_visibility()">L</a>
          </div>
          <div class="layer-toggle">
            <a href="#" ng-click="splice_points_layer.toggle_visibility()">SP</a>
          </div>
        </div>

        <hr />

        <div ng-controller="map_tools_controller">
          <div class="tool-toggle">
            <a href="#" ng-click="toggle_tool_visibility()">DBR</a>
          </div>
        </div>
      </div>

      <div ng-controller="shortest_path_controller">
        <div ng-show="is_visible" class="tool-opts-container">
          <div class="tool-opts-title">Distance Based Route Plan</div>

          <!-- Route Creation Inputs -->
          <div class="tool-opts">
            <div>
              <label>Sources: </label> {{sources.length}}
            </div>
            <div>
              <label>Targets: </label> {{targets.length}}
            </div>
            <div>
              <label>Cable Type:</label>
              <select>
                <option value="aerial">Aerial</option>
                <option value="buried">Buried</option>
              </select>
            </div>
            <div>
              <button class="tool-button" ng-click="create_route()" type="button">Plan Route</button>
            </div>

            <!-- Route Financials -->
            <div ng-show="route_layer.visible">
              <p>Route Financials:</p>
              <label>Total Cost: </label> {{route_layer.metadata.total_cost | currency}}
            </div>
          </div>
        </div>
      </div>

    <div id="map-canvas"></div>
    
  </body>

  <!-- Angular controllers and services -->
  <script src="javascripts/controllers/map_layers_controller.js"></script>
  <script src="javascripts/controllers/map_tools_controller.js"></script>
  <script src="javascripts/controllers/shortest_path_controller.js"></script>
  <script src="javascripts/services/sources_service.js"></script>
  <script src="javascripts/services/targets_service.js"></script>
  <script src="javascripts/models/map_layer.js"></script>
</html>