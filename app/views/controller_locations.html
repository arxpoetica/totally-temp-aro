<div>

  <div class="modal" id="create-location" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Create location</h4>
        </div>
        <div class="modal-body">
          <form class="form-horizontal">
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Business name</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.business_name">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Number of employees</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.number_of_employees">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Business industry</label>
              <div class="col-sm-8">
                <select class="form-control industries" ng-model="new_location_data.business_industry" ng-options="industry.text for industry in industries"></select>
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Annual recurring cost</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.annual_recurring_cost">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Install cost</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.install_cost">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Business customer type</label>
              <div class="col-sm-8">
                <select class="form-control businesses_customer_types" ng-model="new_location_data.business_customer_type" ng-options="customer_type.name for customer_type in customer_types"></select>
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'residential' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Number of households</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.number_of_households">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'residential' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Household customer type</label>
              <div class="col-sm-8">
                <select class="form-control households_customer_types" ng-model="new_location_data.household_customer_type" ng-options="customer_type.name for customer_type in customer_types"></select>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" ng-click="create_location()">Create location</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Locations layer modal -->
  <div id="locations_controller">
    <form ng-hide="show_commercial && !show_residential">
      <div ng-class="{'disabled': overlay !== 'none'}" ng-show="show_commercial" class="customer-type shaded">
        <div class="locations-filter" ng-show="selectedFilter === 'enterprise'">
          <form>
            <div class="form-group">
              <label>Industry</label>
              <select class="form-control" disabled>
                <option>Select an industry</option>
              </select>
            </div>
            <div class="form-group">
              <label>Employee count</label>
              <input type="range" disabled>
            </div>
          </form>
        </div>
        <div class="pull-right">
          <a href="javascript:;" ng-click="toggleFilter('enterprise')" class="btn btn-default btn-xs locations-filter-btn">
            <span class="fa fa-chevron-left" ng-show="selectedFilter === 'enterprise'"></span>
            <span class="fa fa-chevron-right" ng-show="selectedFilter !== 'enterprise'"></span>
          </a>
        </div>
        <label class="pull-right">
          <input type="checkbox" ng-model="show_businesses" value="businesses" ng-change="changeLocationsLayer('businesses')" ng-disabled="overlay !== 'none'">
        </label>
        <label style="margin-left:25px">Enterprise</label>
      </div>
      <div class="customer-type">
        <div ng-repeat="category in business_categories" ng-if="category.name !== 'small'" style="clear:both">
          <div class="pull-left">
            <img ng-attr-src="/images/map_icons/{{ARO_CLIENT}}/businesses_{{category.name}}_default.png" style="width:16px;margin-right:10px">
          </div>
          <label style="font-weight:normal">{{category.description}}</label>
          <label class="pull-right" style="margin-right: 22px">
            <span class="fa fa-repeat map-layer-spinner map-layer-spinner-locations" ng-show="business_categories_selected[category.name]"></span>
            <input type="checkbox" ng-model="business_categories_selected[category.name]" ng-change="changeLocationsLayer()" ng-disabled="!show_businesses">
          </label>
        </div>
      </div>

      <!-- Special case -->
      <div ng-class="{'disabled': overlay !== 'none'}" ng-show="show_commercial" class="customer-type shaded">
        <div class="locations-filter" ng-show="selectedFilter === 'smb'">
          <form>
            <div class="form-group">
              <label>Industry</label>
              <select class="form-control" disabled>
                <option>Select an industry</option>
              </select>
            </div>
            <div class="form-group">
              <label>Employee count</label>
              <input type="range" disabled>
            </div>
          </form>
        </div>
        <div class="pull-right">
          <a href="javascript:;" ng-click="toggleFilter('smb')" class="btn btn-default btn-xs locations-filter-btn">
            <span class="fa fa-chevron-left" ng-show="selectedFilter === 'smb'"></span>
            <span class="fa fa-chevron-right" ng-show="selectedFilter !== 'smb'"></span>
          </a>
        </div>
        <div class="pull-left">
          <img ng-attr-src="/images/map_icons/{{ARO_CLIENT}}/businesses_small_default.png" style="width:16px;margin-right:10px">
        </div>
        <label class="pull-right">
          <span class="fa fa-repeat map-layer-spinner map-layer-spinner-locations" ng-show="business_categories_selected['small']"></span>
          <input type="checkbox" ng-model="business_categories_selected['small']" ng-change="changeLocationsLayer()">
        </label>
        <label>SMB</label>
      </div>
      <!-- / Special case -->

      <!-- Special case
      <div ng-class="{'disabled': overlay !== 'none'}" ng-show="show_commercial" class="customer-type shaded">
        <div class="locations-filter" ng-show="selectedFilter === '2kplus'">
          <p class="text-center">...</p>
        </div>
        <div class="pull-right">
          <a href="javascript:;" ng-click="toggleFilter('2kplus')" class="btn btn-default btn-xs locations-filter-btn">
            <span class="fa fa-chevron-left" ng-show="selectedFilter === '2kplus'"></span>
            <span class="fa fa-chevron-right" ng-show="selectedFilter !== '2kplus'"></span>
          </a>
        </div>
        <div class="pull-left">
          <img ng-attr-src="/images/map_icons/{{ARO_CLIENT}}/businesses_2kplus_default.png" style="width:16px;margin-right:10px">
        </div>
        <label class="pull-right">
          <input type="checkbox" ng-model="business_categories_selected['2kplus']" ng-change="changeLocationsLayer()">
        </label>
        <label>$2,000+ MRC Customers</label>
      </div>
      / Special case -->

      <div ng-class="{'disabled': overlay !== 'none'}" ng-show="show_residential" class="customer-type shaded">
        <div class="locations-filter" ng-show="selectedFilter === 'residential'">
          <form>
            <div class="form-group">
              <label>Income Level</label>
              <select class="form-control" disabled>
                <option>Select an income level</option>
              </select>
            </div>
            <div class="form-group">
              <label>Education Level</label>
              <select class="form-control" disabled>
                <option>Select an education level</option>
              </select>
            </div>
            <div class="form-group">
              <label>Credit Quality</label>
              <select class="form-control" disabled>
                <option>Select an option</option>
              </select>
            </div>
          </form>
        </div>
        <div class="pull-right">
          <a href="javascript:;" ng-click="toggleFilter('residential')" class="btn btn-default btn-xs locations-filter-btn">
            <span class="fa fa-chevron-left" ng-show="selectedFilter === 'residential'"></span>
            <span class="fa fa-chevron-right" ng-show="selectedFilter !== 'residential'"></span>
          </a>
        </div>
        <label class="pull-right">
          <input type="checkbox" ng-model="show_households" value="households" ng-change="changeLocationsLayer('households')" ng-disabled="overlay !== 'none'">
        </label>
        <label style="margin-left:25px">Residential</label>
      </div>
      <div class="customer-type">
        <div ng-repeat="category in household_categories" style="clear:both">
          <div class="pull-left">
            <img ng-attr-src="/images/map_icons/{{ARO_CLIENT}}/households_{{category.name}}_default.png" style="width:16px;margin-right:10px">
          </div>
          <label class="pull-right" style="margin-right: 22px">
            <span class="fa fa-repeat map-layer-spinner map-layer-spinner-locations" ng-show="household_categories_selected[category.name]"></span>
            <input type="checkbox" ng-model="household_categories_selected[category.name]" ng-change="changeLocationsLayer()" ng-disabled="!show_households">
          </label>
          <label style="font-weight:normal">{{category.description}}</label>
        </div>
      </div>
      <div ng-class="{'disabled': overlay !== 'none'}" class="customer-type shaded">
        <div class="locations-filter" ng-show="selectedFilter === 'towers'">
          <form>
            <div class="form-group">
              <label>Site Type</label>
              <select class="form-control" disabled>
                <option>Select a Site Type</option>
              </select>
            </div>
          </form>
        </div>
        <div class="pull-right">
          <a href="javascript:;" ng-click="toggleFilter('towers')" class="btn btn-default btn-xs locations-filter-btn">
            <span class="fa fa-chevron-left" ng-show="selectedFilter === 'towers'"></span>
            <span class="fa fa-chevron-right" ng-show="selectedFilter !== 'towers'"></span>
          </a>
        </div>
        <div class="pull-left">
          <img ng-attr-src="/images/map_icons/{{ARO_CLIENT}}/tower.png" style="width:16px;margin-right:10px">
        </div>
        <label class="pull-right">
          <span class="fa fa-repeat map-layer-spinner map-layer-spinner-locations" ng-show="show_towers"></span>
          <input type="checkbox" ng-model="show_towers" value="true" ng-change="changeLocationsLayer()" ng-disabled="overlay !== 'none'">
        </label>
        <label>Cell Sites</label>
      </div>
      <div ng-class="{'disabled': overlay !== 'none'}" class="customer-type shaded">
        <div class="locations-filter" ng-show="selectedFilter === 'addCustomers'">
          <form>
            <div class="form-group">
              <label>asdfasdf</label>
              <select class="form-control" disabled>
                <option>adfs</option>
              </select>
            </div>
          </form>
        </div>
        <div class="pull-right" style="visibility:hidden">
          <a href="javascript:;" ng-click="toggleFilter('addCustomers')" class="btn btn-default btn-xs locations-filter-btn">
            <span class="fa fa-chevron-left" ng-show="selectedFilter === 'addCustomers'"></span>
            <span class="fa fa-chevron-right" ng-show="selectedFilter !== 'addCustomers'"></span>
          </a>
        </div>
        <label class="pull-right">
          <input type="checkbox" ng-model="showUploadedCustomers" ng-change="showUploadedCustomersChanged()" value="true" ng-disabled="overlay !== 'none'">
        </label>
        <label style="margin-left:25px">Uploaded Customers</label>
      </div>
    </form>
    <div ng-show="showUploadedCustomers" style="padding:10px; margin-left:25px; margin-right:30px">
      <select class="form-control"
          ng-change="selectedDatasourceChaned()"
          ng-model="selectedDatasource"
          ng-options="datasource.id as datasource.name for datasource in datasources">
          <option value="">Select a datasource</option>
      </select>
      <button class="btn btn-sm btn-primary btn-block" style="margin: 5px 0" ng-click="addCustomers()">
        <span class="fa fa-plus"></span> Add customers
      </button>
    </div>

    <div class="alert alert-info text-center" role="alert" ng-show="heatmapVisible">
      To see individual locations, zoom in or turn off the heatmap button below the zoom buttons
    </div>

    <% if (env_is_test) { %>
      <a href="javascript:void(0)" ng-click="locations_layer.select_random_features()" ng-attr-data-loaded="{{locations_layer.data_loaded}}">.</a>
    <% } %>
    <!--
    <hr>
    <div>
      <h2>Overlay</h2>
      <div class="form-group">
        <select class="form-control" ng-model="overlay" ng-change="changeLocationsLayer()">
          <option value="none">None</option>
          <option value="customer_profile">Prospect Density</option>
        </select>
        <div ng-show="overlay_is_loading()">
          <% include spinner.html %>
        </div>
        <div class="row" style="margin-top: 10px" ng-show="overlay === 'customer_profile'">
          <div class="col-md-2">Low</div>
          <div class="col-md-8" style="background: linear-gradient(to right, hsl(120,100%,50%), hsl(0,100%,50%));">&nbsp;</div>
          <div class="col-md-2 text-right">High</div>
        </div>
      </div>
    </div>
    <div ng-show="plan.owner_id === user_id && available_tools.length > 0">
      <hr>
      <h2>Build</h2>
      <div class="row">
        <div class="col-sm-6" ng-repeat="tool in available_tools">
          <a class="btn btn-block btn-default btn-sm" ng-class="{'btn-success active': selected_tool === tool.key}" ng-click="select_tool(tool.key)">{{tool.name}}</a>
          <br>
        </div>
      </div>
    </div>
    -->
  </div>
</div>
