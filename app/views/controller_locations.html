<div>
  <div class="modal" id="create-location" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Create location</h4>
        </div>
        <div class="modal-body">
          <form class="form-horizontal">
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Business name</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.business_name">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Number of employees</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.number_of_employees">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Business industry</label>
              <div class="col-sm-8">
                <select class="form-control industries" ng-model="new_location_data.business_industry" ng-options="industry.text for industry in industries"></select>
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Annual recurring cost</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.annual_recurring_cost">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Install cost</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.install_cost">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'commercial' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Business customer type</label>
              <div class="col-sm-8">
                <select class="form-control businesses_customer_types" ng-model="new_location_data.business_customer_type" ng-options="customer_type.name for customer_type in customer_types"></select>
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'residential' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Number of households</label>
              <div class="col-sm-8">
                <input class="form-control" ng-model="new_location_data.number_of_households">
              </div>
            </div>
            <div class="form-group" ng-show="selected_tool === 'residential' || selected_tool === 'combo'">
              <label class="col-sm-4 control-label">Household customer type</label>
              <div class="col-sm-8">
                <select class="form-control households_customer_types" ng-model="new_location_data.household_customer_type" ng-options="customer_type.name for customer_type in customer_types"></select>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" ng-click="create_location()">Create location</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Locations layer modal -->
  <div id="locations_controller">
    <form ng-hide="show_commercial && !show_residential">
      <div class="checkbox" ng-class="{'disabled': overlay !== 'none'}" ng-show="show_commercial">
        <% if (config.ui.eye_checkboxes) { %>
        <label class="eye-combo">
          <input type="checkbox" ng-model="optimizeBusinesses" ng-change="changeOptimization()">
        </label>
        <% } %>
        <label class="eye-control">
          <input type="checkbox" ng-model="show_businesses" value="businesses" ng-change="change_locations_layer()" ng-disabled="overlay !== 'none'"> Commercial
          <div class="eye-indicator"></div>
        </label>
      </div>
      <div style="margin-left: 20px">
        <div class="checkbox" ng-repeat="category in business_categories">
          <div class="pull-right"><img ng-attr-src="/images/map_icons/{{ARO_CLIENT}}/businesses_{{category.name}}_default.png" style="width:16px"></div>
          <label class="eye-control">
            <input type="checkbox" ng-model="business_categories_selected[category.id]" ng-change="change_locations_layer()" ng-disabled="!show_businesses"> {{category.description}}
            <div class="eye-indicator"></div>
          </label>
        </div>
      </div>
      <div class="checkbox" ng-class="{'disabled': overlay !== 'none'}" ng-show="show_residential">
        <% if (config.ui.eye_checkboxes) { %>
        <label class="eye-combo">
          <input type="checkbox" ng-model="optimizeHouseholds" ng-change="changeOptimization()">
        </label>
        <% } %>
        <label class="eye-control">
          <input type="checkbox" ng-model="show_households" value="households" ng-change="change_locations_layer()" ng-disabled="overlay !== 'none'"> Residential
          <div class="eye-indicator"></div>
        </label>
      </div>
      <div style="margin-left: 20px">
        <div class="checkbox" ng-repeat="category in household_categories">
          <div class="pull-right"><img ng-attr-src="/images/map_icons/{{ARO_CLIENT}}/households_{{category.name}}_default.png" style="width:16px"></div>
          <label class="eye-control">
            <input type="checkbox" ng-model="household_categories_selected[category.id]" ng-change="change_locations_layer()" ng-disabled="!show_households"> {{category.description}}
            <div class="eye-indicator"></div>
          </label>
        </div>
      </div>
      <div class="checkbox" ng-class="{'disabled': overlay !== 'none'}">
        <% if (config.ui.eye_checkboxes) { %>
        <label class="eye-combo">
          <input type="checkbox" ng-model="optimizeTowers" ng-change="changeOptimization()">
        </label>
        <% } %>
        <label class="eye-control">
          <input type="checkbox" ng-model="show_towers" value="true" ng-change="change_towers_layer()" ng-disabled="overlay !== 'none'"> Towers
          <div class="eye-indicator"></div>
        </label>
      </div>
    </form>

    <div class="alert alert-info text-center" role="alert" ng-show="heatmapVisible">
      To see individual locations, zoom in or turn off the heatmap button below the zoom buttons
    </div>

    <% if (env_is_test) { %>
      <a href="javascript:void(0)" ng-click="locations_layer.select_random_features()" ng-attr-data-loaded="{{locations_layer.data_loaded}}">.</a>
    <% } %>
    <!--
    <hr>
    <div>
      <h2>Overlay</h2>
      <div class="form-group">
        <select class="form-control" ng-model="overlay" ng-change="change_locations_layer()">
          <option value="none">None</option>
          <option value="customer_profile">Prospect Density</option>
        </select>
        <div ng-show="overlay_is_loading()">
          <% include spinner.html %>
        </div>
        <div class="row" style="margin-top: 10px" ng-show="overlay === 'customer_profile'">
          <div class="col-md-2">Low</div>
          <div class="col-md-8" style="background: linear-gradient(to right, hsl(120,100%,50%), hsl(0,100%,50%));">&nbsp;</div>
          <div class="col-md-2 text-right">High</div>
        </div>
      </div>
    </div>
    <div ng-show="plan.owner_id === user_id && available_tools.length > 0">
      <hr>
      <h2>Build</h2>
      <div class="row">
        <div class="col-sm-6" ng-repeat="tool in available_tools">
          <a class="btn btn-block btn-default btn-sm" ng-class="{'btn-success active': selected_tool === tool.key}" ng-click="select_tool(tool.key)">{{tool.name}}</a>
          <br>
        </div>
      </div>
    </div>
    -->
  </div>
</div>
