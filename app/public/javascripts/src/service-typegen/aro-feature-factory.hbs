{{!-- Initial comments section - This instructs the user to not modify these files manually --}}
// *****************************************************************************
// AUTOGENERATED FILE - This file is autogenerated using metadata provided by
// aro-service. Do not make changes to this file or check it in to source
// control. Details on how to auto-generate these classes is given in README.md
// *****************************************************************************

{{!-- Define the factory class--}}
class AroFeatureFactory {
  static dataTypeToUrn = {
    {{#each this}}
    {{#if @last}}
    '{{this.dataType}}': '{{this.schemaReference}}' {{!-- No comma on the last element --}}
    {{else}}
    '{{this.dataType}}': '{{this.schemaReference}}',
    {{/if}}
    {{/each}}
  }
  static urnToClass = {}

  static registerAroFeature(urn, classPrototype) {
    this.urnToClass[urn] = classPrototype
  }

  static createObject(jsonObject) {
    if (!jsonObject.dataType) {
      console.error('Must have a dataType to create an object using AroFeatureFactory')
      return null
    }
    const urn = this.dataTypeToUrn[jsonObject.dataType]
    if (!urn) {
      console.error(`Unable to find dataType to URN mapping for dataType ${jsonObject.dataType}`)
      return null
    }
    var classPrototype = this.urnToClass[urn]
    if (!classPrototype) {
      console.error(`Class prototype not found for urn ${urn}`)
      return null
    }
    // Finally, we can create our object
    return classPrototype.fromJSONObject(jsonObject)
  }
}

export default AroFeatureFactory