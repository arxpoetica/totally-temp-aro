<style scoped>
.plan-details-container {
  position: relative;
  height: 99%;
  margin-top: 1%;
}
.plan-actions {
  display: flex;
  flex-direction: row;
}
.plan-actions button {
  margin-left: 1px;
  margin-right: 1px;
  flex: 1
}
.info {
  width: -webkit-fill-available;
  margin: 2px;
}
</style>
<div class="plan-details-container">

  <div class="plan-actions">
    <button class="btn btn-primary" ng-if="!$ctrl.isEditMode" ng-click="$ctrl.editCurrentPlan()">Edit Plan Details</button>
    <button class="btn btn-primary" ng-if="$ctrl.isEditMode" ng-click="$ctrl.commitUpdatedtoPlan()">Lock Changes</button>
    <button class="btn btn-danger" ng-click="$ctrl.deleteCurrentPlan()">Delete Plan</button>
  </div>

  <div class="container info">
    <div class="row">
      <div class="col-sm-4 form-group">Plan Name</div>
      <div class="col-sm-8" ng-if="!$ctrl.isEditMode">{{$ctrl.currentPlanInfo.name}}</div>
      <div class="col-sm-8" ng-if="$ctrl.isEditMode">
        <input type="text" class="form-control text-right" placeholder="Plan Name"
          ng-model="$ctrl.currentPlanInfo.name">
      </div>
    </div> 
    
    <div class="row">
      <div class="col-sm-4 form-group">Owner</div>
      <div class="col-sm-8">{{$ctrl.currentUser.first_name}} {{$ctrl.currentUser.last_name}}</div>
    </div>

    <div class="row">
      <div class="col-sm-4 form-group">Tags</div>
      <div class="col-sm-8">
        <div class="tags">
          <div ng-repeat="tag in $ctrl.getTagDetails({tagObject:$ctrl.currentPlanInfo.tagMapping.global}) track by $index" 
            class="tag label" ng-style="{'background-color': $ctrl.state.getTagColour(tag)}">
          <span class="label"> {{tag.name}} 
            <i class="fa fa-times pointer" ng-if="$ctrl.isEditMode" ng-click="$ctrl.updateTag(plan,tag)"></i>
          </span>
        </div>
      </div>
    </div>
  </div> 

</div>  