<modal visible="$ctrl.state.showPlanResourceEditorModal" backdrop="static" on-hide="$ctrl.modalHide()" >
  <modal-header title="{{$ctrl.modalTitle}}"></modal-header>
  <modal-body>
    <resource-manager ng-if="$ctrl.selectedEditingMode === $ctrl.editingModes.LIST_RESOURCE_MANAGERS"
                      resource-items="$ctrl.state.resourceItems"
                      selected-resource-key="$ctrl.selectedResourceKey"
                      list-mode="$ctrl.editingModes.LIST_RESOURCE_MANAGERS"
                      edit-mode="$ctrl.editingModes.EDIT_RESOURCE_MANAGER"
                      set-editing-mode="$ctrl.setEditingMode(mode)"
                      set-editing-manager-id="$ctrl.setEditingManagerId(newId)"
                      on-managers-changed="$ctrl.onManagersChanged()">
    </resource-manager>

    <pricebook-editor ng-if="($ctrl.selectedEditingMode === $ctrl.editingModes.EDIT_RESOURCE_MANAGER) && $ctrl.selectedResourceKey === 'price_book'"
                      price-book-id="$ctrl.editingManagerId"
                      list-mode="$ctrl.editingModes.LIST_RESOURCE_MANAGERS"
                      set-editing-mode="$ctrl.setEditingMode(mode)"
                      price-book-name-changed="$ctrl.resourceManagerNameChanged(name)">
    </pricebook-editor>

    <roic-editor ng-if="($ctrl.selectedEditingMode === $ctrl.editingModes.EDIT_RESOURCE_MANAGER) && $ctrl.selectedResourceKey === 'roic_manager'"
                 roic-manager-id="$ctrl.editingManagerId"
                 list-mode="$ctrl.editingModes.LIST_RESOURCE_MANAGERS"
                 set-editing-mode="$ctrl.setEditingMode(mode)"
                 roic-manager-name-changed="$ctrl.resourceManagerNameChanged(name)">
    </roic-editor>
</modal-body>
  <!-- Show modal footer only if we are listing resource managers. Editors will show their own buttons -->
  <modal-footer ng-if="$ctrl.selectedEditingMode === $ctrl.editingModes.LIST_RESOURCE_MANAGERS">
    <button class="btn btn-primary" ng-click="$ctrl.modalHide()">Close</button>
  </modal-footer>
</modal>