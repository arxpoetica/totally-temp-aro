<style scoped>
  .with-margin {
    margin-bottom: 5px;
  }
</style>
<modal id="priceBookCreatorModal" visible="$ctrl.state.showPriceBookCreator" backdrop="static" on-hide="$ctrl.onHideModal()" on-show="$ctrl.onShowModal()">
  <modal-header title="{{$ctrl.sourcePriceBookId ? 'Clone Pricebook' : 'Create PriceBook' }}"></modal-header>
  <modal-body>
    <form>

      <!-- The source pricebook used when cloning -->
      <div ng-if="$ctrl.sourcePriceBookId" class="form-group">
        <label class="col-sm-4 control-label">PriceBook to clone</label>
        <div class="col-sm-8">
          <input class="form-control" ng-disabled="true" ng-model="$ctrl.sourcePriceBook.name">
        </div>
      </div>

      <!-- The price strategy to be used for the pricebook. Can only be changed when creating a new pricebook (not when cloning) -->
      <div class="form-group">
        <label class="col-sm-4 control-label">Price Strategy</label>
        <div class="col-sm-8">
          <select class="form-control"
            ng-model="$ctrl.selectedPriceStrategy"
            ng-options="item.description for item in $ctrl.priceStrategies"
            ng-disabled="$ctrl.sourcePriceBookId">
          </select>
          <!-- If we are cloning an existing pricebook, show a message explaining why strategy is disabled-->
          <small ng-if="$ctrl.sourcePriceBookId" class="form-text text-muted">You cannot change strategy when cloning an existing PriceBook</small>
        </div>
      </div>

      <!-- The name of the new pricebook -->
      <div class="form-group">
        <label class="col-sm-4 control-label">Name</label>
        <div class="col-sm-8">
          <input class="form-control" ng-model="$ctrl.newPriceBookName">
        </div>
      </div>

      <!-- The description of the new pricebook -->
      <div class="form-group">
          <label class="col-sm-4 control-label">Description</label>
          <div class="col-sm-8">
            <input class="form-control" ng-model="$ctrl.newPriceBookDescription">
          </div>
        </div>

    </form>
  </modal-body>
  <modal-footer>
    <button class="btn btn-primary pull-left" ng-click="$ctrl.createPriceBook()">Create PriceBook</button>
    <button class="btn btn-danger pull-right" ng-click="$ctrl.close()">Cancel</button>
  </modal-footer>
</modal>