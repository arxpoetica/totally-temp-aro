<!-- Section to show properties when the selected map object is an equipment node -->
<div class="clearfix" ng-if="!$ctrl.isEditingFeatureProperties && $ctrl.viewFeature && !$ctrl.isMultSelectActive()"
  style="margin-top: 10px">
  <!-- Section header showing the type of the selected object -->
  <div class="sidebar-table-header">
    <img ng-src="{{$ctrl.viewIconUrl}}" style="vertical-align:middle; padding-right: 10px">
    <span>{{$ctrl.viewLabel}}</span>

    <button ng-class="{ 'btn ei-panel-header-btn-set ei-foldout-header-btn': true,
              'btn-light': $ctrl.viewFeature.attributes.is_locked === 'true',
              'btn-primary': $ctrl.viewFeature.attributes.is_locked !== 'true' }"
      ng-disabled="$ctrl.viewFeature.attributes.is_locked === 'true'" ng-click="$ctrl.editViewObject()">Edit</button>
    <div class="sidebar-header-subinfo">
      <div class="sidebar-header-subinfo-item">lat: {{$ctrl.viewEventFeature.geometry.coordinates[1] | number : 6}}
      </div>
      <div class="sidebar-header-subinfo-item">long: {{$ctrl.viewEventFeature.geometry.coordinates[0] | number : 6}}
      </div>
    </div>
  </div>

  <!-- A table containing the editable properties of the selected object -->
  <editor-interface-tree ng-if="!$ctrl.isEditingFeatureProperties" object-to-view="$ctrl.viewFeature.networkNodeEquipment"
    is-edit="false" root-meta-data="{'networkNodeType':$ctrl.viewFeature.siteNetworkNodeType}">
  </editor-interface-tree>


  <button ng-if="$ctrl.isEditingFeatureProperties" ng-class="{ 'btn float-right': true,
                            'btn-light': !$ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].isDirty,
                            'btn-primary': $ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].isDirty }"
    ng-disabled="!$ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].isDirty"
    ng-click="$ctrl.saveSelectedEquipmentProperties()" style="margin-bottom: 10px">
    <i class="fa fa-save"></i>&nbsp;&nbsp;Save equipment properties
  </button>
</div>


<!-- Section to show properties when the selected map object is an equipment node -->
<div class="clearfix"
  ng-if="$ctrl.isEditingFeatureProperties && $ctrl.selectedMapObject && $ctrl.isMarker($ctrl.selectedMapObject) && !$ctrl.isMultSelectActive()"
  style="margin-top: 10px">
  <!-- Section header showing the type of the selected object -->
  <div class="sidebar-table-header" ng-if="$ctrl.getSelectedNetworkConfig()">
    <img ng-src="{{$ctrl.getSelectedNetworkConfig().iconUrl}}" style="vertical-align:middle; padding-right: 10px">
    <span>{{$ctrl.getSelectedNetworkConfig().label}}</span>
    <button class="btn btn-danger ei-panel-header-btn-set ei-foldout-header-btn"
      ng-click="$ctrl.deleteObjectWithId($ctrl.selectedMapObject.objectId)">Delete</button>
    <div class="sidebar-header-subinfo">
      <!-- <div class="sidebar-header-subinfo-item">lat: {{$ctrl.selectedMapObject.position.lat()}}</div>
              <div class="sidebar-header-subinfo-item">long: {{$ctrl.selectedMapObject.position.lng()}}</div> -->
      <form class="form-inline">
        <div class="form-group" style="margin-bottom: 2px;">
          <label for="selectedMapObjectLat">lat: </label>
          <input type="number" class="form-control" id="selectedMapObjectLat" placeholder="lat"
            ng-model="$ctrl.selectedMapObjectLat" ng-model-options="{ debounce: 100 }" step="0.000001"
            ng-change="$ctrl.markSelectedEquipmentPropertiesDirty()">
        </div>
        <div class="form-group" style="margin-bottom: 2px;">
          <label for="selectedMapObjectLng">long: </label>
          <input type="number" class="form-control" id="selectedMapObjectLng" placeholder="long"
            ng-model="$ctrl.selectedMapObjectLng" ng-model-options="{ debounce: 100 }" step="0.000001"
            ng-change="$ctrl.markSelectedEquipmentPropertiesDirty()">
        </div>
      </form>
    </div>
  </div>
  <div ng-if="$ctrl.getSelectedNetworkConfig().key === 'location_connector'" class="alert alert-warning"
    style="margin: 1rem 0 0 0">
    right-click locations to toggle their connection
    <br>shift + click to select multiple Location Connectors
  </div>
  <!-- A table containing the editable properties of the selected object -->
  <editor-interface-tree on-change="$ctrl.markSelectedEquipmentPropertiesDirty()"
    object-to-view="$ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].networkNodeEquipment" is-edit="true"
    root-meta-data="{'networkNodeType':$ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].siteNetworkNodeType}"
    get-new-list-item="$ctrl.getNewListItem"></editor-interface-tree>

  <button ng-class="{ 'btn float-right': true,
                            'btn-light': !$ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].isDirty,
                            'btn-primary': $ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].isDirty }"
    ng-disabled="!$ctrl.objectIdToProperties[$ctrl.selectedMapObject.objectId].isDirty"
    ng-click="$ctrl.saveSelectedEquipmentProperties()" style="margin-bottom: 10px">
    <i class="fa fa-save"></i>&nbsp;&nbsp;Save equipment properties
  </button>
</div>