<style scoped>
  .plan-info-container {
    position: relative;
    height: 99%;
    margin-top: 1%;
  }
  .tags {
   margin-bottom: 5px;
  } 
  .tags .tag {
    display: inline-block;
    margin: 1px;
    font-size: 12px;
  }
  .tag .close {
    font-size: 14px;
    margin-left: 5px;
  }
</style>    
<div class="plan-info-container">
  <div class="input-group">
    <input type="text" class="form-control" placeholder="Search for Plan Names" 
      ng-model="$ctrl.search_text" ng-model-options="{ debounce: 1000 }">
    <span class="input-group-addon" ng-click="$ctrl.loadPlans()" style="cursor:pointer">
      <span class="glyphicon glyphicon-search"></span>
    </span>
  </div>

  <div style="margin-top:2px">
    <input type="checkbox"
      class="checkboxfill"
      name="ctype-name" disabled> Limit to plans in current map view
  </div>

  <p ng-show="$ctrl.plans.length < 1" class="text-center">
    No plans found
  </p>

  <div ng-show="$ctrl.plans.length > 0">
    <!-- <div class="table-responsive"> -->
      <table id="tblSelectPlans" class="table table-condensed table-striped">
        <thead>
          <tr>
            <th>
              Name
              <a href="javascript:void(0)" ng-click="$ctrl.sortBy('name', true)">↓</a>
              <a href="javascript:void(0)" ng-click="$ctrl.sortBy('name', false)">↑</a>
            </th>
            <th>Actions</th>
            <th>Tags</th>
            <th>Created By</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="plan in $ctrl.plans | orderBy:$ctrl.sortField:$ctrl.descending">
            <td><a href="javascript:void(0)" ng-click="$ctrl.selectPlan(plan)">{{plan.name}}</a></td>
            <td>
              <a ng-if="plan.progress" class="btn btn-sm btn-success" ng-click="$ctrl.stopOptimization(plan)"><span class="fa fa-stop"></span></a>
              <a ng-if="!plan.progress" class="btn btn-sm btn-primary"><span class="fa fa-folder"></span></a>
              <a ng-if="!plan.progress" class="btn btn-sm btn-danger" ng-click="$ctrl.deletePlan(plan)"><span class="glyphicon glyphicon-trash"></span></a>
            </td>
            <td>
              <div class="tags">
                <div ng-repeat="tag in $ctrl.getTagCategories(plan.tagMapping.global) track by $index" class="tag label label-success">{{tag.name}} 
                  <a class="close" href ng-click="$ctrl.updateTag(plan,tag)">×</a>
                </div>
              </div>
              <!-- <div class="tags">
                <div ng-repeat="(id,tag) in $ctrl.tags track by $index" class="tag label label-success">{{tag}}
                  <a class="close" href ng-click="$ctrl.removeTag(id)">×</a>
                </div>
              </div> -->
            </td>
            <td>{{plan.owner_first_name}} {{plan.owner_last_name}}</td>
          </tr>
        </tbody>
      </table>
    <!-- </div> -->
    <nav class="text-center" style="max-height: 35px">
      <ul class="pagination" style="margin: 0px">
        <li ng-class="{ disabled: $ctrl.currentPage === 1 }">
          <a href="javascript:void(0)" aria-label="Previous" ng-click="$ctrl.loadPlans($ctrl.currentPage - 1)">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li ng-repeat="page in $ctrl.pages" ng-class="{ active: page === $ctrl.currentPage }">
          <a href="javascript:void(0)" ng-click="$ctrl.loadPlans(page)">{{ page }}</a>
        </li>
        <li ng-class="{ disabled: $ctrl.currentPage === $ctrl.pages[$ctrl.pages.length - 1] }">
          <a href="javascript:void(0)" aria-label="Next" ng-click="$ctrl.loadPlans($ctrl.pages[$ctrl.pages.length - 1])">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>