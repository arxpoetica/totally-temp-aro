<style>
  .bounds-coverage-header{
    cursor: auto;
  }
  
  .bounds-coverage-census-cat{
    margin-top: 10px;
    margin-bottom: 4px;
  }
  
  .bounds-coverage-census-tag{
    padding-left: 20px;
  }
  
  .bounds-coverage-census-tag-count{
    margin-left: 10px;
    font-weight: bold;
  }
  
</style>


<div ng-if="$ctrl.isWorking || $ctrl.isWorkingOverride">
  <p>Calculating coverage area...</p>
  <div class="spinner">
    <div class="rect1"></div>
    <div class="rect2"></div>
    <div class="rect3"></div>
    <div class="rect4"></div>
    <div class="rect5"></div>
  </div>
</div>


<div ng-if="$ctrl.boundaryCoverageById.hasOwnProperty($ctrl.parentSelectedObjectId)">
  <div class="ei-header bounds-coverage-header">
    Site boundary coverage: {{$ctrl.boundaryCoverageById[$ctrl.parentSelectedObjectId].totalLocations}} 
    <div ng-repeat="(locationType, locationData) in $ctrl.boundaryCoverageById[$ctrl.parentSelectedObjectId].locations">
      {{locationData.locationType}}: {{locationData.totalCount}}
    </div>
  </div>
  <canvas ng-init="$ctrl.showCoverageChart()" class="plan-editor-bounds-dist-chart" width="300" height="300"></canvas>
  <div style="margin-bottom: 20px;">
    <div class="ei-header bounds-coverage-header">
      Locations by Census Block Tag
    </div>
    <div class="bounds-coverage-census-tag" ng-if="$ctrl.objKeys($ctrl.boundaryCoverageById[$ctrl.parentSelectedObjectId].censusTagsByCat).length < 1">none</div>
    <div ng-repeat="cat in $ctrl.boundaryCoverageById[$ctrl.parentSelectedObjectId].censusTagsByCat">
      <div class="ei-property-item bounds-coverage-census-cat">
        {{cat.description}}
      </div>
      <div class="bounds-coverage-census-tag" ng-repeat="tag in cat.tags">
        <div class="outlineLegendIcon" style="border-color: {{tag.colourHash}}; background-color: {{tag.colourHash}}33;"></div>
        {{tag.description}}: 
        <div class="bounds-coverage-census-tag-count"
             ng-repeat="(locationType, locationCount) in tag.count"
             >{{locationType}}: {{locationCount}}</div>
      </div>
    </div>
  </div>
</div>