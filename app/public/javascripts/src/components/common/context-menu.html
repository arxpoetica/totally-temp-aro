<!-- Define a dummy CSS class that we will use to select the dropdown element. The class name
     must be unique as all this HTML is going to be attached to the $document -->
<style>
  .map-object-editor-context-menu-container {
    line-height: 22px; /* Any property will do */
  }
  .map-object-editor-context-menu {
    line-height: 22px; /* Any property will do */
  }
  .map-object-editor-context-menu-dropdown {
    line-height: 22px; /* Any property will do */
    padding: 5px;
  }
  .map-object-editor-context-menu-dropdown-section{
    margin-bottom: 6px;
  }
</style>


<div class="map-object-editor-context-menu-container" ng-style="$ctrl.contextMenuCss"> <!-- This ng-style will position the menu -->
  
  <div class="dropdown open">
  
    <!-- Have a button but hide it. This markup is from the standard bootstrap dropdown docs.
         The .dropdown() method is called on this hidden button, which in turn shows the menu. -->
    <!-- 
    <button ng-hide="true" class="btn btn-default dropdown-toggle map-object-editor-context-menu" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
      Dropdown
      <span class="caret"></span>
    </button>
    -->
    <ul class="dropdown-menu map-object-editor-context-menu-dropdown" aria-labelledby="dropdownMenu1">
      <!-- Menu item to delete object -->
      <div class="map-object-editor-context-menu-dropdown-section" ng-repeat="item in $ctrl.menuItems">
        <li>
          {{item.label}}
        </li>
        <li ng-repeat="option in item.options">
          <a href="#" ng-click="option.callback(option.data, item.data)">
            &nbsp;&nbsp;<i class="fa {{option.iconClass}}"></i>
            {{option.label}}
          </a>
          
          <!-- 
          <a ng-if=" 'edit existing' == option "
             href="#" ng-click="$ctrl.editExistingFeature(item.feature, item.latLng)">
            &nbsp;&nbsp;<i class="fa fa-pencil"></i>
            Select
          </a>
          <a ng-if=" 'add boundary' == option "
             href="#" ng-click="$ctrl.startDrawingBoundaryForId(item.objectId)">
            &nbsp;&nbsp;<i class="fa fa-plus"></i>
            Add Boundary
          </a>
          <a ng-if=" 'edit boundary' == option "
             href="#" ng-click="$ctrl.editBoundary(item.objectId)">
            &nbsp;&nbsp;<i class="fa fa-pencil"></i>
            Edit Boundary
          </a>
          <a ng-if=" 'delete' == option "
             href="#" ng-click="$ctrl.deleteObjectWithId(item.objectId)">
            &nbsp;&nbsp;<i class="fa fa-trash"></i>
            Delete
          </a>
          -->
          
        </li>
      </div>
      
    </ul>
  
  </div>
 
</div>